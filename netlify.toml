# Netlify Configuration for BharatPrint Frontend

[build]
  base = "frontend"
  command = "npm run build"
  publish = "build"

[build.environment]
  # Node.js version 20 for modern React features
  NODE_VERSION = "20"
  CI = "false"
  SKIP_PREFLIGHT_CHECK = "true"
  
# Note: Set REACT_APP_BACKEND_URL in Netlify UI under Site settings > Environment variables
# for security and flexibility across environments

[[redirects]]
from = "/*"
to = "/index.html"
status = 200

[[headers]]
for = "/*"
[headers.values]
Cache-Control = "public, max-age=3600, must-revalidate"

[[headers]]
for = "/static/*"
[headers.values]
Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
for = "/index.html"
[headers.values]
Cache-Control = "public, max-age=0, must-revalidate"

# CORS headers for API requests
[[headers]]
for = "/*"
[headers.values]
"Access-Control-Allow-Origin" = "*"
"Access-Control-Allow-Methods" = "GET, POST, PUT, DELETE, OPTIONS"
"Access-Control-Allow-Headers" = "Content-Type, Authorization"
