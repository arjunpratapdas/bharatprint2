# Netlify Configuration for BharatPrint Frontend

[build]
base = "frontend"
command = "npm run build"
publish = "frontend/build"

[build.environment]
# React environment
REACT_APP_BACKEND_URL = "https://bharatprint-backend.onrender.com"
CI = "false"
SKIP_PREFLIGHT_CHECK = "true"

# Ensure proper Node.js version
NODE_VERSION = "18.17.0"

[[redirects]]
from = "/*"
to = "/index.html"
status = 200

[[headers]]
for = "/*"
[headers.values]
Cache-Control = "public, max-age=3600, must-revalidate"

[[headers]]
for = "/static/*"
[headers.values]
Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
for = "/index.html"
[headers.values]
Cache-Control = "public, max-age=0, must-revalidate"

# CORS headers for API requests
[[headers]]
for = "/*"
[headers.values]
"Access-Control-Allow-Origin" = "*"
"Access-Control-Allow-Methods" = "GET, POST, PUT, DELETE, OPTIONS"
"Access-Control-Allow-Headers" = "Content-Type, Authorization"
